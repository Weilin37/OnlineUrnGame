{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Weilin\\\\Documents\\\\GitHub\\\\UrbanTreeConservation\\\\client\\\\src\\\\js\\\\components\\\\DrawSimilarityButtons.js\",\n    _s = $RefreshSig$();\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { setDrawMode } from \"../features/mapSlice\";\nimport { useDispatch, useSelector, batch } from \"react-redux\";\nimport Fab from '@material-ui/core/Fab';\nimport BorderColorIcon from '@material-ui/icons/BorderColor';\nimport { setViewStatus } from \"../features/markerSlice\";\nimport { useLeaflet } from \"react-leaflet\";\nimport Chip from '@material-ui/core/Chip';\nimport Paper from '@material-ui/core/Paper';\nimport DrawAnalysisSimilarity from \"./DrawAnalysisSimilarity\";\nimport { getSimilarity, getSimilarityHistogram, setSimilarityCity1, setSimilarityCity2, setSimilarityState1, setSimilarityState2 } from \"../features/analysisSlice\";\nimport Button from '@material-ui/core/Button';\nconst useStyles = makeStyles(theme => ({\n  chipMargin: {\n    margin: theme.spacing(1),\n    top: theme.spacing(7),\n    right: theme.spacing(1),\n    position: 'fixed',\n    zIndex: 1000\n  }\n}));\n\nconst DrawSimilarityButtons = () => {\n  _s();\n\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const stateMarker = useSelector(state => state.marker);\n  const stateAnalysis = useSelector(state => state.analysis);\n  const {\n    map\n  } = useLeaflet();\n\n  function handleDelete(e) {\n    if (e === 1) {\n      batch(() => {\n        dispatch(setSimilarityCity1(\"\"));\n        dispatch(setSimilarityState1(\"\"));\n      });\n    } else if (e === 2) {\n      batch(() => {\n        dispatch(setSimilarityCity2(\"\"));\n        dispatch(setSimilarityState2(\"\"));\n      });\n    }\n  }\n\n  function handleSimilarityClick() {\n    if (stateAnalysis.similarityCity1 !== \"\" && stateAnalysis.similarityCity2 !== \"\") {\n      let endpoint = '/api/get/citysimilarity?city1=' + stateAnalysis.similarityCity1 + '&city2=' + stateAnalysis.similarityCity2 + '&state1=' + stateAnalysis.similarityState1 + '&state2=' + stateAnalysis.similarityState2;\n      batch(() => {\n        dispatch(getSimilarity(endpoint));\n        dispatch(getSimilarityHistogram());\n      });\n    }\n  }\n\n  if (stateMarker.view_status === \"global\" && (stateAnalysis.similarityCity1 !== \"\" || stateAnalysis.similarityCity2 !== \"\")) {\n    if (stateAnalysis.similarityCity1 !== \"\" && stateAnalysis.similarityCity2 === \"\") {\n      return /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.chipMargin,\n        children: [/*#__PURE__*/_jsxDEV(DrawAnalysisSimilarity, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Chip, {\n          size: \"small\",\n          label: stateAnalysis.similarityCity1 + \", \" + stateAnalysis.similarityState1,\n          onDelete: () => handleDelete(1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          size: \"small\",\n          variant: \"outlined\",\n          onClick: handleSimilarityClick,\n          color: \"primary\",\n          children: \"calculate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this);\n    } else if (stateAnalysis.similarityCity2 !== \"\" && stateAnalysis.similarityCity1 === \"\") {\n      return /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.chipMargin,\n        children: [/*#__PURE__*/_jsxDEV(DrawAnalysisSimilarity, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Chip, {\n          size: \"small\",\n          label: stateAnalysis.similarityCity2 + \", \" + stateAnalysis.similarityState2,\n          onDelete: () => handleDelete(2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          size: \"small\",\n          variant: \"outlined\",\n          onClick: handleSimilarityClick,\n          color: \"primary\",\n          children: \"calculate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.chipMargin,\n        children: [/*#__PURE__*/_jsxDEV(DrawAnalysisSimilarity, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Chip, {\n          size: \"small\",\n          label: stateAnalysis.similarityCity1 + \", \" + stateAnalysis.similarityState1,\n          onDelete: () => handleDelete(1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Chip, {\n          size: \"small\",\n          label: stateAnalysis.similarityCity2 + \", \" + stateAnalysis.similarityState2,\n          onDelete: () => handleDelete(2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          size: \"small\",\n          variant: \"outlined\",\n          onClick: handleSimilarityClick,\n          color: \"primary\",\n          children: \"calculate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this);\n    }\n  } else {\n    return null;\n  }\n};\n\n_s(DrawSimilarityButtons, \"M+LbGKCtw4DiEH1+SAisR4kzxNE=\", false, function () {\n  return [useStyles, useDispatch, useSelector, useSelector, useLeaflet];\n});\n\n_c = DrawSimilarityButtons;\nexport default DrawSimilarityButtons;\n\nvar _c;\n\n$RefreshReg$(_c, \"DrawSimilarityButtons\");","map":{"version":3,"sources":["C:/Users/Weilin/Documents/GitHub/UrbanTreeConservation/client/src/js/components/DrawSimilarityButtons.js"],"names":["makeStyles","setDrawMode","useDispatch","useSelector","batch","Fab","BorderColorIcon","setViewStatus","useLeaflet","Chip","Paper","DrawAnalysisSimilarity","getSimilarity","getSimilarityHistogram","setSimilarityCity1","setSimilarityCity2","setSimilarityState1","setSimilarityState2","Button","useStyles","theme","chipMargin","margin","spacing","top","right","position","zIndex","DrawSimilarityButtons","classes","dispatch","stateMarker","state","marker","stateAnalysis","analysis","map","handleDelete","e","handleSimilarityClick","similarityCity1","similarityCity2","endpoint","similarityState1","similarityState2","view_status"],"mappings":"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","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\r\nimport { setDrawMode } from \"../features/mapSlice\";\r\nimport { useDispatch, useSelector, batch } from \"react-redux\";\r\nimport Fab from '@material-ui/core/Fab';\r\nimport BorderColorIcon from '@material-ui/icons/BorderColor';\r\nimport { setViewStatus } from \"../features/markerSlice\";\r\nimport { useLeaflet } from \"react-leaflet\";\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport DrawAnalysisSimilarity from \"./DrawAnalysisSimilarity\";\r\nimport { getSimilarity, getSimilarityHistogram, setSimilarityCity1, setSimilarityCity2, setSimilarityState1, setSimilarityState2 } from \"../features/analysisSlice\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  chipMargin: {\r\n    margin: theme.spacing(1),\r\n    top: theme.spacing(7),\r\n    right: theme.spacing(1),\r\n    position: 'fixed',\r\n    zIndex: 1000,\r\n  }\r\n}));\r\n\r\n\r\nconst DrawSimilarityButtons = () => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const stateMarker = useSelector(state => state.marker);\r\n    const stateAnalysis = useSelector(state => state.analysis);\r\n    const { map } = useLeaflet();\r\n\r\n    function handleDelete(e) {\r\n        if (e === 1) {\r\n            batch(() => {\r\n                dispatch(setSimilarityCity1(\"\"));\r\n                dispatch(setSimilarityState1(\"\"));\r\n            });\r\n        } else if (e === 2) {\r\n            batch(() => {\r\n                dispatch(setSimilarityCity2(\"\"));\r\n                dispatch(setSimilarityState2(\"\"));\r\n            });\r\n        }\r\n    }\r\n\r\n    function handleSimilarityClick() {\r\n        if (stateAnalysis.similarityCity1 !== \"\" && stateAnalysis.similarityCity2 !== \"\") {\r\n            let endpoint = '/api/get/citysimilarity?city1='+stateAnalysis.similarityCity1+'&city2='+stateAnalysis.similarityCity2+\r\n            '&state1='+stateAnalysis.similarityState1+'&state2='+stateAnalysis.similarityState2;\r\n            batch(() => {\r\n                dispatch(getSimilarity(endpoint));\r\n                dispatch(getSimilarityHistogram());\r\n            });\r\n        }\r\n    }\r\n\r\n    if (stateMarker.view_status === \"global\" && (stateAnalysis.similarityCity1 !== \"\" || stateAnalysis.similarityCity2 !== \"\")) {\r\n\r\n        if (stateAnalysis.similarityCity1 !== \"\" && stateAnalysis.similarityCity2 === \"\") {\r\n            return (\r\n                <Paper className={classes.chipMargin}>\r\n                    <DrawAnalysisSimilarity />\r\n                    <Chip\r\n                      size=\"small\"\r\n                      label={stateAnalysis.similarityCity1+\", \"+stateAnalysis.similarityState1}\r\n                      onDelete={() => handleDelete(1)}\r\n                    />\r\n                    <Button size=\"small\" variant=\"outlined\" onClick={handleSimilarityClick} color=\"primary\">calculate</Button>\r\n                </Paper>\r\n            );\r\n        } else if (stateAnalysis.similarityCity2 !== \"\" && stateAnalysis.similarityCity1 === \"\") {\r\n            return (\r\n                <Paper className={classes.chipMargin}>\r\n                    <DrawAnalysisSimilarity />\r\n                    <Chip\r\n                      size=\"small\"\r\n                      label={stateAnalysis.similarityCity2+\", \"+stateAnalysis.similarityState2}\r\n                      onDelete={() => handleDelete(2)}\r\n                    />\r\n                    <Button size=\"small\" variant=\"outlined\" onClick={handleSimilarityClick} color=\"primary\">calculate</Button>\r\n                </Paper>\r\n            );\r\n        } else {\r\n            return (\r\n                <Paper className={classes.chipMargin}>\r\n                    <DrawAnalysisSimilarity />\r\n                    <Chip\r\n                      size=\"small\"\r\n                      label={stateAnalysis.similarityCity1+\", \"+stateAnalysis.similarityState1}\r\n                      onDelete={() => handleDelete(1)}\r\n                    />\r\n                    <Chip\r\n                      size=\"small\"\r\n                      label={stateAnalysis.similarityCity2+\", \"+stateAnalysis.similarityState2}\r\n                      onDelete={() => handleDelete(2)}\r\n                    />\r\n                    <Button size=\"small\" variant=\"outlined\" onClick={handleSimilarityClick} color=\"primary\">calculate</Button>\r\n                </Paper>\r\n            );\r\n        }\r\n\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default DrawSimilarityButtons;"]},"metadata":{},"sourceType":"module"}